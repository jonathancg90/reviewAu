<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0-beta.1/jquery.mobile-1.4.0-beta.1.min.css">
        <title>Hello World</title>

        <script src='https://cdn.firebase.com/v0/firebase.js'></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>        
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
        <script src="http://code.jquery.com/mobile/1.4.0-beta.1/jquery.mobile-1.4.0-beta.1.min.js"></script>
    </head>
    <body>
        <div class="app">
            <div id="deviceready" class="blink">
            </div>
        </div>
        <section data-role='page' id='page_login' data-theme='b'>
            <article data-role="content">
                <form action="" id='form_login'>
                    <input type="text" class="form-control input-lg" id='username' placeholder="Username">
                    <input type="password" class="form-control input-lg" id='password' placeholder="Password">
                    <input type="submit" value=Log In id='logIn'>
                    <span class='message'></span>
                    <a href="#page_profile" data-transition='slide'>Page2</a>
                </form>
            </article><!-- /content -->
        </section>
        <section data-role='page' id='page_update_profile' data-theme='b'>
            <header data-role='header' data-position='fixed' data-id='main_header'>
                <ul class="ui-grid-b header_nav">
                    <li class="ui-block-a active_menu"><a href='#page_profile' data-transition='slide'>Perfil</a></li>
                    <li class="ui-block-b"><a href='#page_filter' data-transition='slide'>Filtro</a></li>
                    <li class="ui-block-c"><a href='#page_muro' data-transition='slide'>Muro</a></li>
                </ul>
            </header>
            <article data-role='content'>
                <form action="" id='form_actualizar'>
                    <div data-role="fieldcontain">
                        <label for="textinput-fc">Nombre:</label>
                        <input type="text" name="textinput-fc" id="textinput-fc" placeholder="Text input" value="">
                    </div>
                    <div data-role="fieldcontain">
                        <a href="" id='carreras'></a>
                        <label for="select-native-fc">Carrera:</label>
                        <select name="select-native-fc" id="select_carreras">
                        </select>
                    </div>
                    <div data-role="fieldcontain">
                        <label for="select-native-fa">Ciclo:</label>
                        <select name="select-native-fc" id="select_ciclo">
                            <option value="small">I</option>
                            <option value="medium">II</option>
                            <option value="large">III</option>
                            <option value="large">IV</option>
                            <option value="large">V</option>
                            <option value="large">VI</option>
                            <option value="large">VII</option>
                            <option value="large">VIII</option>
                            <option value="large">IX</option>
                            <option value="large">X</option>
                        </select>
                    </div>
                    <div data-role="fieldcontain">
                        <a href="" id='Turnos'></a>
                        <fieldset data-role="controlgroup" data-type="horizontal" data-mini="true" id='turnos'>
                            <legend>Turno:</legend>
                            <input type="radio" name="radio-choice-b" id="radio-choice-c" value="list" checked="checked">
                            <label for="radio-choice-c">Mañana</label>
                            <input type="radio" name="radio-choice-b" class='input_check_turno' id="radio-choice-d" value="grid">
                            <label for="radio-choice-d">Tarde</label>
                            <input type="radio" name="radio-choice-b" class='input_check_turno' id="radio-choice-e" value="gallery">
                            <label for="radio-choice-e">Noche</label>
                        </fieldset>
                    </div>
                    <div data-role="fieldcontain">
                        <label for="slider2">Seccion:</label>
                        <select name="slider2" id="slider2" data-role="slider">
                            <option value="off">A</option>
                            <option value="on">B</option>
                        </select>
                    </div>
                    <input type="submit" value='Guardar'>
                </form>
            </article>
        </section>
        <section data-role='page' id='page_profile' data-theme='b'>
            <header data-role='header' data-position='fixed' data-id='main_header'>
                <ul class="ui-grid-b header_nav">
                    <li class="ui-block-a active_menu"><a href='#page_profile' data-transition='slide'>Perfil</a></li>
                    <li class="ui-block-b"><a href='#page_filter' data-transition='slide'>Filtro</a></li>
                    <li class="ui-block-c"><a href='#page_muro' data-transition='slide'>Muro</a></li>
                </ul>
            </header>
            <a href="#page_update_profile"></a>
            <input type="hidden" class='token'>
            <input type="hidden" id="idCurso">
            <article data-role='content' class='content-Profile'></article>
        </section>
        <section data-role='page' id='page_filter' data-theme='b'>
            <header data-role='header' data-position='fixed' data-id='main_header'>
                <ul class="ui-grid-b header_nav">
                    <li class="ui-block-a"><a href='#page_profile' data-transition='slide'>Perfil</a></li>
                    <li class="ui-block-b active_menu"><a href='#page_filter' data-transition='slide'>Filtro</a></li>
                    <li class="ui-block-c"><a href='#page_muro' data-transition='slide'>Muro</a></li>
                </ul>
            </header>
            <article data-role='content'>
                <form action="" id='form_calificar'>
                    <label for="slider-1">Me fascina:</label>
                    <input type="range" name="slider-1" id="slider-1" class='slide' value="50" min="0" max="100" data-highlight="true">
                    <label for="slider-2">Me gusta:</label>
                    <input type="range" name="slider-2" id="slider-2" class='slide' value="50" min="0" max="100" data-highlight="true">
                    <label for="slider-3">Me da sueño:</label>
                    <input type="range" name="slider-3" id="slider-3" class='slide' value="50" min="0" max="100" data-highlight="true">
                    <label for="slider-4">Me aburre:</label>
                    <input type="range" name="slider-4" id="slider-4" class='slide' value="50" min="0" max="100" data-highlight="true">
                    <input type="submit" value='Actualizar'>
                </form>
            </article>
        </section>
        <section data-role='page' id='page_muro' data-theme='b'>
            <header data-role='header' data-position='fixed' data-id='main_header'>
                <ul class="ui-grid-b header_nav">
                    <li class="ui-block-a"><a href='#page_profile' data-transition='slide'>Perfil</a></li>
                    <li class="ui-block-b"><a href='#page_filter' data-transition='slide'>Filtro</a></li>
                    <li class="ui-block-c active_menu"><a href='#page_muro' data-transition='slide'>Muro</a></li>
                </ul>
            </header>
            <article data-role='content'> 
                <figure>
                    <img src="http://lorempixel.com/200/400/animals" alt="">
                </figure>
                <div class="progress-bar">
                  <input type="range" id="progress-bar" value="0" min="0" max="100"
                  data-highlight="true" data-mini="true" />
                </div>
                <div data-role='fieldcontain'>
                     <input type='text' id='nameInput' placeholder='Name'>
                    <textarea cols="40" rows="8" name="textarea" id='messageInput' placeholder='Tipea Aqui'></textarea>
                </div>
                <section id='list_comment'>
                     <article class='comment'>
                        <header class='head_comment'>
                            <hgroup>
                                <h1 class='name_user'>titulo1</h1>
                            </hgroup>
                        </header>
                        <p class='body_comment'>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Expedita, odio, asperiores est magnam similique tenetur nam molestias eaque odit eligendi doloribus vero nesciunt porro saepe dolores exercitationem laborum. Enim, alias.</p>
                        <nav class='options'>
                            <ul>
                                <li><a href="#">Like</a></li>
                                <li><a href="#">Comentar</a></li>
                                <li><a href="#">Comentar</a></li>
                            </ul>
                        </nav>
                    </article>
                </section>
            </article>
        </section>

        <script type="text/javascript">
            app.initialize();
            var myDataRef = new Firebase('https://writeandshare.firebaseio.com');            
            $('#messageInput').keypress(function (e) {
                if (e.keyCode == 13) {
                    var name = $('#nameInput').val();
                    var text = $('#messageInput').val();
                    myDataRef.push({name: name, text: text});
                    $('#messageInput').val('');
                }
            });
            myDataRef.on('child_added', function(snapshot) {
                var message = snapshot.val();
                debugger;
                displayChatMessage(message.name, message.text);
            });
            function displayChatMessage(name, text) {                 
                $('.comment:last-child').clone().appendTo('#list_comment');                           
                var clone = $('.comment:last-child');
                clone.find('.name_user').text(name);
                clone.find('.body_comment').text(text);
            };
        </script>
    </body>
</html>
